<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="/js/jquery.min.js"></script>
        <script src="/js/popper.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>
        <script src="js/underscore-min.js"></script>
        <script src="/js/fa-all.js" data-auto-replace-svg="nest"></script>
        <script src="/js/multilingual.js"></script>
        
        <link rel="stylesheet" href="css/bootstrap.min.css">

        <link type="text/css" rel="stylesheet" href="css/hover-min.css" />
        <link type="text/css" rel="stylesheet" href="css/academicons.min.css" />
        
        <title>#Secim2023 | Turkish Presidential Elections</title>

        <script type="text/javascript">

            function drawCard(post){

                divStr = '<div class="col-sm-12 col-md-6 col-lg-4 my-3"><div class="card"><img class="card-img-top img-fluid" src="' + post['img'] + '"/>';
                divStr += '<div class="card-body col p-4 d-flex flex-column position-static">';
                
                if (post['type'] == "Analysis") {
                    divStr += '<strong class="d-inline-block mb-2 text-success"><span tlang="en">Analysis</span><span tlang="tr">Analiz</span></strong>'
                } else {
                    divStr += '<strong class="d-inline-block mb-2 text-primary"><span tlang="en">Dataset</span><span tlang="tr">Veriseti</span></strong>'
                }

                divStr += '<h5 class="mb-0"><span tlang="en">' + post['en-title'] + '</span><span tlang="tr">' + post['tr-title'] + '</span></h5>';
                divStr += '<small class="text-muted mt-2">' + post['date'] + '</small>';
                divStr += '<p class="card-text mb-auto mt-2"><span tlang="en">' + post['en-description-min'] + '</span> <span tlang="tr">' + post['tr-description-min'] + '</span></p>';
                divStr += '<a href="/posts/221219/" class="btn btn-primary stretched-link mt-4"><span tlang="en">Read Blog</span><span tlang="tr">Detaylar</span></a></div></div></div>';

                return divStr;
            }

            function createBlogPosts(posts) {

                var mstr = '<div class="container"><div class="row gy-3 my-3">';

                for (var i=0; i < posts.length; i++){
                    mstr += drawCard(posts[i]);
                }

                mstr += '</div></div></div>';

                $('#blog-posts-container').append(mstr);

            }

            $(document).ready(function () {
                $('[data-toggle="tooltip"]').tooltip();
                $('#header-container').load('/components/header.html', function() {
                  setLang(getCookie('pagelang', 'en'));
                });
                $('#footer-container').load('/components/footer.html', function() {
                  setLang(getCookie('pagelang', 'en'));
                });
                $('#blog-posts-container').load('/components/blog-posts.html', function() {
                  setLang(getCookie('pagelang', 'en'));
                });

                $.getJSON('data/posts/posts-min.json',
                    function (json) {
                        createBlogPosts(json);
                });
            });
            $(window).on('load', function () {
              setLang(getCookie('pagelang', 'en'));
            });
        </script>
    </head>

    <body>
        
        <div id="header-container"></div>

        <div class="container">
            <div class="px-4 py-5 my-5 text-center border-bottom">
                <img class="d-block mx-auto mb-4" src="img/vrllab-logo.png" alt="" width="144" height="144">
                <h1 class="display-5 fw-bold">#Secim2023</h1>
                <div class="col-lg-6 mx-auto mb-5">
                    <p class="lead mb-4">Welcome to the data science project of VIRAL Lab, Sabanci University for the Presidential Elections of the Republic of Turkey in 2023. We are publishing reports and articles regularly in this website, for more frequent posts, you can follow us on social media!</p>
                    <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
                        <button type="button" class="btn btn-primary btn-lg px-4 gap-3">See Latest Publication</button>
                        <button type="button" class="btn btn-outline-secondary btn-lg px-4">Our Dataset</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row my-5 justify-content-center">
                <div class="col-12 text-center">
                    <h3>
                        <span tlang="en">Latest Blog Posts</span>
                        <span tlang="tr">Son Paylaşılanlar</span>
                    </h3>
                </div>
            </div>
        </div>

        <div id="blog-posts-container"></div>

        <div id="footer-container"></div>

    </body>
</html>